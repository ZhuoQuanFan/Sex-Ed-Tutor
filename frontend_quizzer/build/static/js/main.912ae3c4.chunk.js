/*! For license information please see main.912ae3c4.chunk.js.LICENSE.txt */
(this.webpackJsonpchatui=this.webpackJsonpchatui||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var o=n(1),s=n.n(o),i=n(11),r=n.n(i),l=(n(33),n(12)),a=(n(34),n(2)),c=n.n(a);const d="cs";var h=n(0);const u=e=>{let{responsive:t,children:n,className:o,...s}=e;const i="".concat(d,"-main-container");return Object(h.jsx)("div",{...s,className:c()(i,{["".concat(i,"--responsive")]:t},o),children:n})};u.defaultProps={children:void 0,responsive:!1};var p=u,g=n(4),m=n.n(g);const f=e=>null===e||void 0===e||Array.isArray(e)&&0===e.length,v=(e,t)=>{const n=[],o=t.map((e=>e.displayName||e.name));return s.a.Children.toArray(e).forEach((e=>{const i=t.indexOf(e.type);if(-1!==i)n[i]=e;else{var r,l,a;const i=null!==(r=null===e||void 0===e||null===(l=e.props)||void 0===l?void 0:l.as)&&void 0!==r?r:null===e||void 0===e||null===(a=e.props)||void 0===a?void 0:a.is,c=typeof i;if("function"===c){const o=t.indexOf(i);-1!==o&&(n[o]=s.a.cloneElement(e,{...e.props,as:null}))}else if("object"===c){const t=i.name||i.displayName,r=o.indexOf(t);-1!==r&&(n[r]=s.a.cloneElement(e,{...e.props,as:null}))}else if("string"===c){const t=o.indexOf(i);-1!==t&&(n[t]=e)}}})),n},b=e=>{if("string"===typeof e)return e;if("type"in e){const t=typeof e.type;if("function"===t||"object"===t){if("displayName"in e.type)return e.type.displayName;if("name"in e.type)return e.type.name}else if("string"===t)return e.type;return"undefined"}return"undefined"};function y(e){return getComputedStyle(e)}function _(e,t){for(var n in t){var o=t[n];"number"===typeof o&&(o+="px"),e.style[n]=o}return e}function w(e){var t=document.createElement("div");return t.className=e,t}var j="undefined"!==typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function x(e,t){if(!j)throw new Error("No element matching method supported");return j.call(e,t)}function S(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function T(e,t){return Array.prototype.filter.call(e.children,(function(e){return x(e,t)}))}var O="ps",R="ps__rtl",Y={thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},N={focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}},H={x:null,y:null};function E(e,t){var n=e.element.classList,o=N.scrolling(t);n.contains(o)?clearTimeout(H[t]):n.add(o)}function X(e,t){H[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(N.scrolling(t))}),e.settings.scrollingThreshold)}var L=function(e){this.element=e,this.handlers={}},M={isEmpty:{configurable:!0}};L.prototype.bind=function(e,t){"undefined"===typeof this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t);-1!==["touchstart","wheel","touchmove"].indexOf(e)?this.element.addEventListener(e,t,{passive:!1}):this.element.addEventListener(e,t,!1)},L.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(o){return!(!t||o===t)||(n.element.removeEventListener(e,o,!1),!1)}))},L.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},M.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(L.prototype,M);var W=function(){this.eventElements=[]};function C(e){if("function"===typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function P(e,t,n,o,s,i){var r;if(void 0===o&&(o=!0),void 0===s&&(s=!1),"top"===t)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,o,s,i){var r=n[0],l=n[1],a=n[2],c=n[3],d=n[4],h=n[5];void 0===o&&(o=!0);void 0===s&&(s=!1);var u=e.element;e.reach[c]=null;const p=!0!==i||e[r]!==e[l];p&&u[a]<1&&(e.reach[c]="start");p&&u[a]>e[r]-e[l]-1&&(e.reach[c]="end");t&&(u.dispatchEvent(C("ps-scroll-"+c)),t<0?u.dispatchEvent(C("ps-scroll-"+d)):t>0&&u.dispatchEvent(C("ps-scroll-"+h)),o&&function(e,t){E(e,t),X(e,t)}(e,c));e.reach[c]&&(t||s)&&u.dispatchEvent(C("ps-"+c+"-reach-"+e.reach[c]))}(e,n,r,o,s,i)}function A(e){return parseInt(e,10)||0}W.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new L(e),this.eventElements.push(t)),t},W.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},W.prototype.unbind=function(e,t,n){var o=this.eventElement(e);o.unbind(t,n),o.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(o),1)},W.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},W.prototype.once=function(e,t,n){var o=this.eventElement(e),s=function(e){o.unbind(t,s),n(e)};o.bind(t,s)};var I="undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style,k="undefined"!==typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),B="undefined"!==typeof navigator&&navigator.msMaxTouchPoints;"undefined"!==typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent);function z(e){var t=e.element,n=Math.floor(t.scrollTop),o=t.getBoundingClientRect();e.containerWidth=Math.round(o.width),e.containerHeight=Math.round(o.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(T(t,Y.rail("x")).forEach((function(e){return S(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(T(t,Y.rail("y")).forEach((function(e){return S(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=D(e,A(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=A((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=D(e,A(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=A(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},o=Math.floor(e.scrollTop);t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft;t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-o:n.top=t.scrollbarXTop+o;_(t.scrollbarXRail,n);var s={top:o,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?s.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:s.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?s.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:s.left=t.scrollbarYLeft+e.scrollLeft;_(t.scrollbarYRail,s),_(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),_(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(N.active("x")):(t.classList.remove(N.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(N.active("y")):(t.classList.remove(N.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function D(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function F(e,t){var n=t[0],o=t[1],s=t[2],i=t[3],r=t[4],l=t[5],a=t[6],c=t[7],d=t[8],h=e.element,u=null,p=null,g=null;function m(t){t.touches&&t.touches[0]&&(t[s]=t.touches[0].pageY),h[a]=u+g*(t[s]-p),E(e,c),z(e),t.stopPropagation(),t.preventDefault()}function f(){X(e,c),e[d].classList.remove(N.clicking),e.event.unbind(e.ownerDocument,"mousemove",m)}function v(t,r){u=h[a],r&&t.touches&&(t[s]=t.touches[0].pageY),p=t[s],g=(e[o]-e[n])/(e[i]-e[l]),r?e.event.bind(e.ownerDocument,"touchmove",m):(e.event.bind(e.ownerDocument,"mousemove",m),e.event.once(e.ownerDocument,"mouseup",f),t.preventDefault()),e[d].classList.add(N.clicking),t.stopPropagation()}e.event.bind(e[r],"mousedown",(function(e){v(e)})),e.event.bind(e[r],"touchstart",(function(e){v(e,!0)}))}var q={"click-rail":function(e){e.element,e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=n*e.containerHeight,z(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=n*e.containerWidth,z(e),t.stopPropagation()}))},"drag-thumb":function(e){F(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),F(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(x(t,":hover")||x(e.scrollbarX,":focus")||x(e.scrollbarY,":focus"))){var o,s=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(s){if("IFRAME"===s.tagName)s=s.contentDocument.activeElement;else for(;s.shadowRoot;)s=s.shadowRoot.activeElement;if(x(o=s,"input,[contenteditable]")||x(o,"select,[contenteditable]")||x(o,"textarea,[contenteditable]")||x(o,"button,[contenteditable]"))return}var i=0,r=0;switch(n.which){case 37:i=n.metaKey?-e.contentWidth:n.altKey?-e.containerWidth:-30;break;case 38:r=n.metaKey?e.contentHeight:n.altKey?e.containerHeight:30;break;case 39:i=n.metaKey?e.contentWidth:n.altKey?e.containerWidth:30;break;case 40:r=n.metaKey?-e.contentHeight:n.altKey?-e.containerHeight:-30;break;case 32:r=n.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:r=e.containerHeight;break;case 34:r=-e.containerHeight;break;case 36:r=e.contentHeight;break;case 35:r=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==i||e.settings.suppressScrollY&&0!==r||(t.scrollTop-=r,t.scrollLeft+=i,z(e),function(n,o){var s=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===s&&o>0||s>=e.contentHeight-e.containerHeight&&o<0)return!e.settings.wheelPropagation}var i=t.scrollLeft;if(0===o){if(!e.scrollbarXActive)return!1;if(0===i&&n<0||i>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(i,r)&&n.preventDefault())}}))},wheel:function(e){var t=e.element;function n(n){var o=function(e){var t=e.deltaX,n=-1*e.deltaY;return"undefined"!==typeof t&&"undefined"!==typeof n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),s=o[0],i=o[1];if(!function(e,n,o){if(!I&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var s=e;s&&s!==t;){if(s.classList.contains(Y.consuming))return!0;var i=y(s);if(o&&i.overflowY.match(/(scroll|auto)/)){var r=s.scrollHeight-s.clientHeight;if(r>0&&(s.scrollTop>0&&o<0||s.scrollTop<r&&o>0))return!0}if(n&&i.overflowX.match(/(scroll|auto)/)){var l=s.scrollWidth-s.clientWidth;if(l>0&&(s.scrollLeft>0&&n<0||s.scrollLeft<l&&n>0))return!0}s=s.parentNode}return!1}(n.target,s,i)){var r=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(i?t.scrollTop-=i*e.settings.wheelSpeed:t.scrollTop+=s*e.settings.wheelSpeed,r=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(s?t.scrollLeft+=s*e.settings.wheelSpeed:t.scrollLeft-=i*e.settings.wheelSpeed,r=!0):(t.scrollTop-=i*e.settings.wheelSpeed,t.scrollLeft+=s*e.settings.wheelSpeed),z(e),(r=r||function(n,o){var s=Math.floor(t.scrollTop),i=0===t.scrollTop,r=s+t.offsetHeight===t.scrollHeight,l=0===t.scrollLeft,a=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(o)>Math.abs(n)?i||r:l||a)||!e.settings.wheelPropagation}(s,i))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}"undefined"!==typeof window.onwheel?e.event.bind(t,"wheel",n):"undefined"!==typeof window.onmousewheel&&e.event.bind(t,"mousewheel",n)},touch:function(e){if(k||B){var t=e.element,n={},o=0,s={},i=null;k?(e.event.bind(t,"touchstart",c),e.event.bind(t,"touchmove",d),e.event.bind(t,"touchend",h)):B&&(window.PointerEvent?(e.event.bind(t,"pointerdown",c),e.event.bind(t,"pointermove",d),e.event.bind(t,"pointerup",h)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",c),e.event.bind(t,"MSPointerMove",d),e.event.bind(t,"MSPointerUp",h)))}function r(n,o){t.scrollTop-=o,t.scrollLeft-=n,z(e)}function l(e){return e.targetTouches?e.targetTouches[0]:e}function a(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function c(e){if(a(e)){var t=l(e);n.pageX=t.pageX,n.pageY=t.pageY,o=(new Date).getTime(),null!==i&&clearInterval(i)}}function d(i){if(a(i)){var c=l(i),d={pageX:c.pageX,pageY:c.pageY},h=d.pageX-n.pageX,u=d.pageY-n.pageY;if(function(e,n,o){if(!t.contains(e))return!1;for(var s=e;s&&s!==t;){if(s.classList.contains(Y.consuming))return!0;var i=y(s);if(o&&i.overflowY.match(/(scroll|auto)/)){var r=s.scrollHeight-s.clientHeight;if(r>0&&(s.scrollTop>0&&o<0||s.scrollTop<r&&o>0))return!0}if(n&&i.overflowX.match(/(scroll|auto)/)){var l=s.scrollWidth-s.clientWidth;if(l>0&&(s.scrollLeft>0&&n<0||s.scrollLeft<l&&n>0))return!0}s=s.parentNode}return!1}(i.target,h,u))return;r(h,u),n=d;var p=(new Date).getTime(),g=p-o;g>0&&(s.x=h/g,s.y=u/g,o=p),i.cancelable&&function(n,o){var s=Math.floor(t.scrollTop);const i=Math.ceil(t.scrollLeft);var r=Math.abs(n),l=Math.abs(o);if(!e.settings.wheelPropagation)return!0;if(l>r){if(e.settings.suppressScrollY)return!1;if(o>0)return 0!==s;if(o<0)return s<e.contentHeight-e.containerHeight}else if(r>l){if(e.settings.suppressScrollX)return!1;if(n>0)return 0!==i;if(o<0)return i<e.contentWidth-e.containerWidth}return!0}(h,u)&&i.preventDefault()}}function h(){e.settings.swipeEasing&&(clearInterval(i),i=setInterval((function(){e.isInitialized?clearInterval(i):s.x||s.y?Math.abs(s.x)<.01&&Math.abs(s.y)<.01?clearInterval(i):(r(30*s.x,30*s.y),s.x*=.8,s.y*=.8):clearInterval(i)}),10))}}},G=function(e,t){var n=this;if(void 0===t&&(t={}),"string"===typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var o in this.element=e,e.classList.add(O),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[o]=t[o];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return e.classList.add(N.focus)},i=function(){return e.classList.remove(N.focus)};this.isRtl="rtl"===y(e).direction,!0===this.isRtl&&e.classList.add(R),this.isNegativeScroll=function(){var t,n=e.scrollLeft;return e.scrollLeft=-1,t=e.scrollLeft<0,e.scrollLeft=n,t}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new W,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=w(Y.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=w(Y.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",i),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var r=y(this.scrollbarXRail);this.scrollbarXBottom=parseInt(r.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=A(r.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=A(r.borderLeftWidth)+A(r.borderRightWidth),_(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=A(r.marginLeft)+A(r.marginRight),_(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=w(Y.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=w(Y.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",i),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=y(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=A(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=y(e);return A(t.width)+A(t.paddingLeft)+A(t.paddingRight)+A(t.borderLeftWidth)+A(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=A(l.borderTopWidth)+A(l.borderBottomWidth),_(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=A(l.marginTop)+A(l.marginBottom),_(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return q[e](n)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return n.onScroll(e)})),z(this)};G.prototype.update=function(e){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,_(this.scrollbarXRail,{display:"block"}),_(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=A(y(this.scrollbarXRail).marginLeft)+A(y(this.scrollbarXRail).marginRight),this.railYMarginHeight=A(y(this.scrollbarYRail).marginTop)+A(y(this.scrollbarYRail).marginBottom),_(this.scrollbarXRail,{display:"none"}),_(this.scrollbarYRail,{display:"none"}),z(this),P(this,"top",0,!1,!0,e),P(this,"left",0,!1,!0,e),_(this.scrollbarXRail,{display:""}),_(this.scrollbarYRail,{display:""}))},G.prototype.onScroll=function(e){this.isAlive&&(z(this),P(this,"top",this.element.scrollTop-this.lastScrollTop),P(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},G.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),S(this.scrollbarX),S(this.scrollbarY),S(this.scrollbarXRail),S(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},G.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};var U=G;const K={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"};Object.freeze(K);class Q extends o.Component{constructor(e){super(e),this.handleRef=this.handleRef.bind(this),this._handlerByEvent={}}componentDidMount(){this.props.option&&console.warn('react-perfect-scrollbar: the "option" prop has been deprecated in favor of "options"'),this._ps=new U(this._container,this.props.options||this.props.option),this._updateEventHook(),this._updateClassName()}componentDidUpdate(e){this._updateEventHook(e),this.updateScroll(),e.className!==this.props.className&&this._updateClassName()}componentWillUnmount(){Object.keys(this._handlerByEvent).forEach((e=>{const t=this._handlerByEvent[e];t&&this._container.removeEventListener(e,t,!1)})),this._handlerByEvent={},this._ps.destroy(),this._ps=null}_updateEventHook(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(K).forEach((t=>{const n=this.props[K[t]],o=e[K[t]];if(n!==o){if(o){const e=this._handlerByEvent[t];this._container.removeEventListener(t,e,!1),this._handlerByEvent[t]=null}if(n){const e=()=>n(this._container);this._container.addEventListener(t,e,!1),this._handlerByEvent[t]=e}}}))}_updateClassName(){const{className:e}=this.props,t=this._container.className.split(" ").filter((e=>e.match(/^ps([-_].+|)$/))).join(" ");this._container&&(this._container.className="scrollbar-container".concat(e?" ".concat(e):"").concat(t?" ".concat(t):""))}updateScroll(){this.props.onSync(this._ps)}handleRef(e){this._container=e,this.props.containerRef(e)}render(){const{className:e,style:t,option:n,options:o,containerRef:s,onScrollY:i,onScrollX:r,onScrollUp:l,onScrollDown:a,onScrollLeft:c,onScrollRight:d,onYReachStart:u,onYReachEnd:p,onXReachStart:g,onXReachEnd:m,component:f,onSync:v,children:b,...y}=this.props,_=f;return Object(h.jsx)(_,{style:t,ref:this.handleRef,...y,children:b})}}Q.defaultProps={className:"",style:void 0,option:void 0,options:void 0,containerRef:()=>{},onScrollY:void 0,onScrollX:void 0,onScrollUp:void 0,onScrollDown:void 0,onScrollLeft:void 0,onScrollRight:void 0,onYReachStart:void 0,onYReachEnd:void 0,onXReachStart:void 0,onXReachEnd:void 0,onSync:e=>e.update(),component:"div"};var J=Q;const V=e=>{let{className:t,variant:n,children:o,...i}=e;const r="".concat(d,"-loader"),l=s.a.Children.count(o)>0?"".concat(r,"--content"):"";return Object(h.jsx)("div",{...i,className:c()(r,l,{["".concat(r,"--variant-").concat(n)]:"default"!==n},t),role:"status",children:o})};V.defaultProps={className:void 0,title:void 0,variant:"default"};var $=V;const Z=e=>{let{className:t,children:n,blur:o,grayscale:s,...i}=e;const r="".concat(d,"-overlay"),l="".concat(r,"--blur"),a="".concat(r,"--grayscale");return Object(h.jsx)("div",{...i,className:c()(r,{[l]:o},{[a]:s},t),children:Object(h.jsx)("div",{className:"".concat(r,"__content"),children:n})})};Z.defaultProps={className:"",children:void 0,blur:!1,grayscale:!1};var ee=Z;const te=["available","unavailable","away","dnd","invisible","eager"],ne=["xs","sm","md","lg","fluid"];const oe=e=>{let{status:t,size:n,className:o,name:s,selected:i,children:r,...l}=e;const a="".concat(d,"-status"),u=Object(h.jsx)("div",{className:"".concat(a,"__bullet")}),p=s||r;return Object(h.jsxs)("div",{...l,"aria-selected":!0===i?"":null,className:c()(a,"".concat(a,"--").concat(n),"".concat(a,"--").concat(t),{["".concat(a,"--selected")]:i},{["".concat(a,"--named")]:p},o),children:[u,p&&Object(h.jsx)("div",{className:"".concat(a,"__name"),children:s||r})]})};oe.defaultProps={size:"md"};function se(e,t){let{name:n,src:s,size:i,status:r,className:l,active:a,children:u,...p}=e;const g="".concat(d,"-avatar"),m="undefined"!==typeof i?" ".concat(g,"--").concat(i):"",f=Object(o.useRef)();return Object(o.useImperativeHandle)(t,(()=>({focus:()=>f.current.focus()}))),Object(h.jsx)("div",{ref:f,...p,className:c()("".concat(g).concat(m),{["".concat(g,"--active")]:a},l),children:u||Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{src:s,alt:n}),"string"===typeof r&&Object(h.jsx)(oe,{status:r,size:i})," "]})})}const ie=Object(o.forwardRef)(se);ie.displayName="Avatar",ie.propTypes={children:m.a.node,name:m.a.string,src:m.a.string,size:m.a.oneOf(ne),status:m.a.oneOf(te),active:m.a.bool,className:m.a.string},se.defaultProps={name:"",src:"",size:"md",active:!1},ie.defaultProps=se.defaultProps;var re=ie;const le=e=>{let{sender:t,sentTime:n,children:o,className:s,...i}=e;const r="".concat(d,"-message__header");return Object(h.jsx)("div",{...i,className:c()(r,s),children:"undefined"!==typeof o?o:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"".concat(d,"-message__sender-name"),children:t}),Object(h.jsx)("div",{className:"".concat(d,"-message__sent-time"),children:n})]})})};le.displayName="Message.Header",le.defaultProps={sender:"",sentTime:"",children:void 0};var ae=le;const ce=e=>{let{sender:t,sentTime:n,children:o,className:s,...i}=e;const r="".concat(d,"-message__footer");return Object(h.jsx)("div",{...i,className:c()(r,s),children:"undefined"!==typeof o?o:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"".concat(d,"-message__sender-name"),children:t}),Object(h.jsx)("div",{className:"".concat(d,"-message__sent-time"),children:n})]})})};ce.displayName="Message.Footer",ce.defaultProps={sender:"",sentTime:"",children:void 0};var de=ce;const he=e=>{let{children:t,className:n}=e;const o="".concat(d,"-message__custom-content");return Object(h.jsx)("div",{className:c()(o,n),children:t})};he.displayName="Message.CustomContent",he.defaultProps={};var ue=he;const pe=e=>{let{src:t,width:n,height:o,alt:s,className:i}=e;const r="".concat(d,"-message__image-content"),l={width:"number"===typeof n?"".concat(n,"px"):"string"===typeof n?n:void 0,height:"number"===typeof o?"".concat(o,"px"):"string"===typeof o?o:void 0};return Object(h.jsx)("div",{className:c()(r,i),children:Object(h.jsx)("img",{src:t,style:l,alt:s})})};pe.displayName="Message.ImageContent",pe.defaultProps={};var ge=pe;const me=e=>{let{html:t,className:n}=e;const o="".concat(d,"-message__html-content");return Object(h.jsx)("div",{className:c()(o,n),dangerouslySetInnerHTML:{__html:t}})};me.displayName="Message.HtmlContent",me.defaultProps={};var fe=me;const ve=e=>{let{text:t,className:n,children:o}=e;const s="".concat(d,"-message__text-content"),i=null!==o&&void 0!==o?o:t;return Object(h.jsx)("div",{className:c()(s,n),children:i})};ve.displayName="Message.TextContent",ve.defaultProps={};var be=ve;const ye=e=>{var t,n;let{model:{message:o,sentTime:s,sender:i,direction:r,position:l,type:a,payload:u},avatarSpacer:p,avatarPosition:g,type:m,payload:f,children:y,className:_,...w}=e;const j="".concat(d,"-message"),[x,S,T,O,R,Y,N]=v(y,[re,ae,de,fe,be,ge,ue]),H=0===r||"incoming"===r?"".concat(j,"--incoming"):1===r||"outgoing"===r?"".concat(j,"--outgoing"):void 0,E=(e=>{const t="".concat(j,"--avatar-");return 0===e||"top-left"===e||"tl"===e?"".concat(t,"tl"):1===e||"top-right"===e||"tr"===e?"".concat(t,"tr"):2===e||"bottom-right"===e||"br"===e?"".concat(t,"br"):3===e||"bottom-left"===e||"bl"===e?"".concat(t,"bl"):4===e||"center-left"===e||"cl"===e?"".concat(t,"cl"):5===e||"center-right"===e||"cr"===e?"".concat(t,"cr"):void 0})(g),X=(e=>{const t="".concat(d,"-message--");return"single"===e||0===e?"".concat(t,"single"):"first"===e||1===e?"".concat(t,"first"):"normal"===e||2===e?"":"last"===e||3===e?"".concat(t,"last"):void 0})(l),L=(null===i||void 0===i?void 0:i.length)>0&&(null===s||void 0===s?void 0:s.length)>0?"".concat(i,": ").concat(s):(null===i||void 0===i?void 0:i.length)>0&&("undefined"===typeof s||0===(null===s||void 0===s?void 0:s.length))?i:null,M=null!==(t=null!==(n=null!==O&&void 0!==O?O:R)&&void 0!==n?n:Y)&&void 0!==t?t:N,W=null!==M&&void 0!==M?M:(()=>{const e=null!==a&&void 0!==a?a:m,t=null!==u&&void 0!==u?u:o,n=null!==t&&void 0!==t?t:f,s="object"===typeof n?b(n):"";return"html"===e&&"Message.CustomContent"!==s?Object(h.jsx)(fe,{html:n}):"text"===e?Object(h.jsx)(be,{text:n}):"image"===e?Object(h.jsx)(ge,{...n}):"custom"===e||"Message.CustomContent"===s?n:void 0})();return Object(h.jsxs)("section",{...w,"aria-label":L,className:c()(j,H,{["".concat(j,"--avatar-spacer")]:p},X,E,_),["data-".concat(d,"-message")]:"",children:["undefined"!==typeof x&&Object(h.jsx)("div",{className:"".concat(j,"__avatar"),children:x}),Object(h.jsxs)("div",{className:"".concat(j,"__content-wrapper"),children:[S,Object(h.jsx)("div",{className:"".concat(j,"__content"),children:W}),T]})]})};ye.defaultProps={model:{message:"",sentTime:"",sender:"",direction:1},avatarSpacer:!1,avatarPosition:void 0,type:"html"},ye.Header=ae,ye.HtmlContent=fe,ye.TextContent=be,ye.ImageContent=ge,ye.CustomContent=ue,ye.Footer=de;var _e=ye;const we=e=>{let{children:t,className:n,...o}=e;const s="".concat(d,"-message-group__header");return Object(h.jsx)("div",{...o,className:c()(s,n),children:t})};we.displayName="MessageGroup.Header",we.defaultProps={children:void 0};var je=we;const xe=e=>{let{children:t,className:n,...o}=e;const s="".concat(d,"-message-group__footer");return Object(h.jsx)("div",{...o,className:c()(s,n),children:t})};xe.displayName="MessageGroup.Footer",xe.defaultProps={children:void 0};var Se=xe;const Te=e=>{let{children:t,className:n,...o}=e;const s="".concat(d,"-message-group");return Object(h.jsx)("div",{...o,className:c()("".concat(s,"__messages"),n),children:t})};Te.displayName="MessageGroup.Messages",Te.defaultProps={children:void 0};var Oe=Te;const Re=e=>{let{direction:t,avatarPosition:n,sender:o,sentTime:s,children:i,className:r,...l}=e;const a="".concat(d,"-message-group"),u=0===t||"incoming"===t?"".concat(a,"--incoming"):1===t||"outgoing"===t?"".concat(a,"--outgoing"):void 0,p=(()=>{const e="".concat(a,"--avatar-");if("string"===typeof n&&("tl"===n||"top-left"===n||"tr"===n||"top-right"===n||"bl"===n||"bottom-right"===n||"br"===n||"bottom-right"===n||"cl"===n||"center-left"===n||"cr"===n||"center-right"===n))return"".concat(e).concat(n)})(),[g,m,f,b]=v(i,[re,je,Se,Oe]),y=o.length>0&&s.length>0?"".concat(o,": ").concat(s):o.length>0&&0===s.length?o:null;return Object(h.jsxs)("section",{"aria-label":y,...l,className:c()(a,u,p,r),["data-".concat(d,"-message-group")]:"",children:["undefined"!==typeof g&&Object(h.jsx)("div",{className:"".concat(a,"__avatar"),children:g}),Object(h.jsxs)("div",{className:"".concat(a,"__content"),children:[m,b,f]})]})};Re.defaultProps={direction:"incoming",sentTime:"",sender:"",avatarPosition:void 0},Re.Header=je,Re.Footer=Se,Re.Messages=Oe;var Ye=Re;const Ne=e=>{let{content:t,as:n,children:o,className:s,...i}=e;const r="".concat(d,"-message-separator"),l="string"===typeof n&&n.length>0?n:Ne.defaultProps.as;return Object(h.jsx)(l,{...i,className:c()(r,s),children:!0===f(o)?t:o})};Ne.defaultProps={children:void 0,content:void 0,as:"div"};var He=Ne;const Ee=e=>{let{className:t,children:n,...o}=e;return Object(h.jsx)("div",{...o,className:t,children:n})};Ee.displayName="MessageList.Content";var Xe=Ee;class Le extends s.a.Component{constructor(e){super(e),this.handleResize=()=>{this.containerRef.current.clientHeight<this.lastClientHeight&&this.scrollToEnd(this.props.scrollBehavior),this.scrollRef.current.updateScroll()},this.handleContainerResize=()=>{!1===this.resizeTicking&&(window.requestAnimationFrame((()=>{const e=this.containerRef.current;if(e){const t=e.clientHeight-this.lastClientHeight;t>=1?!1===this.preventScrollTop&&(e.scrollTop=Math.round(e.scrollTop)-t):e.scrollTop=e.scrollTop-t,this.lastClientHeight=e.clientHeight,this.scrollRef.current.updateScroll()}this.resizeTicking=!1})),this.resizeTicking=!0)},this.isSticked=()=>{const e=this.containerRef.current;return e.scrollHeight===Math.round(e.scrollTop+e.clientHeight)},this.handleScroll=()=>{!1===this.scrollTicking&&(window.requestAnimationFrame((()=>{!1===this.noScroll?this.preventScrollTop=this.isSticked():this.noScroll=!1,this.scrollTicking=!1})),this.scrollTicking=!0)},this.getLastMessageOrGroup=()=>{const e=this.containerRef.current.querySelector("[data-".concat(d,"-message-list]>[data-").concat(d,"-message]:last-of-type,[data-").concat(d,"-message-list]>[data-").concat(d,"-message-group]:last-of-type")),t=null===e||void 0===e?void 0:e.querySelector("[data-".concat(d,"-message]:last-of-type"));return{lastElement:e,lastMessageInGroup:t}},this.scrollPointRef=s.a.createRef(),this.containerRef=s.a.createRef(),this.scrollRef=s.a.createRef(),this.lastClientHeight=0,this.preventScrollTop=!1,this.resizeObserver=void 0,this.scrollTicking=!1,this.resizeTicking=!1,this.noScroll=void 0}getSnapshotBeforeUpdate(){const e=this.containerRef.current,t=Math.round(e.scrollTop+e.clientHeight);return{sticky:e.scrollHeight===t||e.scrollHeight+1===t||e.scrollHeight-1===t,clientHeight:e.clientHeight,scrollHeight:e.scrollHeight,lastMessageOrGroup:this.getLastMessageOrGroup(),diff:e.scrollHeight-e.scrollTop}}componentDidMount(){!0===this.props.autoScrollToBottomOnMount&&this.scrollToEnd(this.props.scrollBehavior),this.lastClientHeight=this.containerRef.current.clientHeight,window.addEventListener("resize",this.handleResize),"function"===typeof window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(this.handleContainerResize),this.resizeObserver.observe(this.containerRef.current)),this.containerRef.current.addEventListener("scroll",this.handleScroll)}componentDidUpdate(e,t,n){const{props:{autoScrollToBottom:o}}=this;if("undefined"!==typeof n){const e=this.containerRef.current,{lastElement:t,lastMessageInGroup:s}=this.getLastMessageOrGroup();if(t===n.lastMessageOrGroup.lastElement&&("undefined"!==typeof s&&s!==n.lastMessageOrGroup.lastMessageInGroup||(e.scrollTop=e.scrollHeight-n.diff+(this.lastClientHeight-e.clientHeight))),!0===n.sticky)!0===o&&this.scrollToEnd(this.props.scrollBehavior),this.preventScrollTop=!0;else if(n.clientHeight<this.lastClientHeight){const t=e.scrollTop+this.lastClientHeight;e.scrollHeight===t||e.scrollHeight+1===t||e.scrollHeight-1===t?!0===o&&(this.scrollToEnd(this.props.scrollBehavior),this.preventScrollTop=!0):this.preventScrollTop=!1}else this.preventScrollTop=!1,t===n.lastMessageOrGroup.lastElement&&("undefined"!==typeof s&&s!==n.lastMessageOrGroup.lastMessageInGroup||0===e.scrollTop&&e.scrollHeight>n.scrollHeight&&(e.scrollTop=e.scrollHeight-n.scrollHeight));this.lastClientHeight=n.clientHeight}}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),"undefined"!==typeof this.resizeObserver&&this.resizeObserver.disconnect(),this.containerRef.current.removeEventListener("scroll",this.handleScroll)}scrollToEnd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollBehavior;const t=this.containerRef.current,n=this.scrollPointRef.current,o=t.getBoundingClientRect(),s=n.getBoundingClientRect().top+t.scrollTop-o.top;t.scrollBy?t.scrollBy({top:s,behavior:e}):t.scrollTop=s,this.lastClientHeight=t.clientHeight,this.noScroll=!0}render(){const{props:{children:e,typingIndicator:t,loading:n,loadingMore:o,loadingMorePosition:s,onYReachStart:i,onYReachEnd:r,className:l,disableOnYReachWhenNoScroll:a,scrollBehavior:u,autoScrollToBottom:p,autoScrollToBottomOnMount:g,...m}}=this,f="".concat(d,"-message-list"),[b]=v(e,[Xe]);return Object(h.jsxs)("div",{...m,className:c()(f,l),children:[o&&Object(h.jsx)("div",{className:c()("".concat(f,"__loading-more"),{["".concat(f,"__loading-more--bottom")]:"bottom"===s}),children:Object(h.jsx)($,{})}),n&&Object(h.jsx)(ee,{children:Object(h.jsx)($,{})}),Object(h.jsxs)(J,{onYReachStart:i,onYReachEnd:r,onSync:e=>e.update(a),className:"".concat(f,"__scroll-wrapper"),ref:this.scrollRef,containerRef:e=>this.containerRef.current=e,options:{suppressScrollX:!0},["data-".concat(d,"-message-list")]:"",style:{overscrollBehaviorY:"none",overflowAnchor:"auto",touchAction:"none"},children:[b||e,Object(h.jsx)("div",{className:"".concat(f,"__scroll-to"),ref:this.scrollPointRef})]}),"undefined"!==typeof t&&Object(h.jsx)("div",{className:"".concat(f,"__typing-indicator-container"),children:t})]})}}function Me(e,t){const n=Object(o.useRef)(),s=e=>n.current.scrollToEnd(e);return Object(o.useImperativeHandle)(t,(()=>({scrollToBottom:s}))),Object(h.jsx)(Le,{ref:n,...e})}Le.displayName="MessageList";const We=Object(o.forwardRef)(Me);var Ce;We.propTypes={children:(Ce=[_e,Ye,He,Xe],(e,t,n)=>{const o=Ce.map((e=>e.name||e.displayName)),i=s.a.Children.toArray(e[t]).find((e=>{if("string"===typeof e&&0===e.trim().length)return!1;if(-1===Ce.indexOf(e.type)){var t,n;const s=(null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.as)||(null===e||void 0===e||null===(n=e.props)||void 0===n?void 0:n.is),i=typeof s;if("function"===i)return-1===Ce.indexOf(s);if("object"===i){const e=s.name||s.displayName;return-1===o.indexOf(e)}return"string"!==i||-1===o.indexOf(s)}}));if("undefined"!==typeof i){const e=b(i),t=Ce.map((e=>e.name||e.displayName)).join(", "),o='"'.concat(e,'" is not a valid child for ').concat(n,". Allowed types: ").concat(t);return new Error(o)}}),typingIndicator:m.a.node,loading:m.a.bool,loadingMore:m.a.bool,loadingMorePosition:m.a.oneOf(["top","bottom"]),onYReachStart:m.a.func,onYReachEnd:m.a.func,disableOnYReachWhenNoScroll:m.a.bool,autoScrollToBottom:m.a.bool,autoScrollToBottomOnMount:m.a.bool,scrollBehavior:m.a.oneOf(["auto","smooth"]),className:m.a.string},We.defaultProps={typingIndicator:void 0,loading:!1,loadingMore:!1,loadingMorePosition:"top",disableOnYReachWhenNoScroll:!1,autoScrollToBottom:!0,autoScrollToBottomOnMount:!0,scrollBehavior:"auto"},Le.defaultProps=We.defaultProps,We.Content=Xe;var Pe,Ae,Ie=We,ke=n(5),Be=(n.p,n(24)),ze=n.n(Be),De=n(13),Fe=n(25),qe=n.n(Fe);De.a.div(Pe||(Pe=Object(l.a)(["\n    width: ","px;\n    position: relative;\n"])),320);var Ge=new qe.a;De.a.input(Ae||(Ae=Object(l.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    width: 56px;\n    height: 40px;\n    z-index: 2;\n    font: inherit;\n    border: 0;\n    text-align: center;\n    font-size: 24px;\n    padding: 4px;\n    color: inherit;\n    appearance: none;\n    z-index: 120;\n\n    &::-webkit-inner-spin-button {\n        appearance: none;\n    }\n"])));const Ue="http://127.0.0.1:3004/";ke.a.setState("chat",{message_list:[{message:"Hi, I am <b>Sex Ed Tutor</b>.<br/> <b>What problem you want to discuss with me?</b> Or <br/><b>what topic you want to learn today?</b><br/>Here are some Examples:",isImage:!1,state:"state of the dialog flow",sender:"tutor",options:["Sexual Orientation","Gender Identity","Healthy relationships and Communication"],sentTime:"just now",palette_url:Ue+"test_palette.png",gui_url:Ue+"test.png",state:"Topic Selection",tutor_message:"",user_message:"",post_id:-1,explanation:"",cloze_test:"",imgs:[],correct_answer:"",correct_answers:[],user_id:"",multiple_choices:[],mention_ui_elements:[],wiki:[]}]}),ke.a.setState("chatbot",{chatbot_list:[{message:"Hi, I am your assistance <b>Chatbot</b>. Feel free to ask me any question!"}]}),ke.a.setState("uiImage",{imgs:[{src:"D:\\0universe\\vision_transformer\\rose.jpg",alt:""}]});function Ke(e,t){let n=ke.a.getState("chat"),o=n.value.message_list;if(t="undefined"!=typeof t&&t){o[o.length-1].message=e.message,o.pop()}return o.push(e),new Promise(((e,t)=>{setTimeout((()=>{n.setValue({message_list:o})}),50)}))}function Qe(e){let t=ke.a.getState("uiImage");setTimeout((()=>{t.setValue({imgs:e}),console.log(t.value.imgs)}),50)}function Je(e){var t=new XMLHttpRequest;return t.open("POST","http://113.45.221.230:5000",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=()=>{if(4==t.readyState&&200==t.status){var e=JSON.parse(t.responseText);console.log(e);let o=e.data;console.log(o.length);for(var n=0;n<o.length;n++)o[n].isGpt?(o[n].message=Ge.render(o[n].tutor_message),o[n].message=o[n].message.replaceAll("<p>","").replaceAll("</p>","").replaceAll("<li>\n","<li>").replaceAll("</li>\n","</li>")):o[n].message=o[n].tutor_message,console.log(o[n].message),Ke(o[n]),0!==o[n].imgs.length&&(Qe(o[n].imgs),document.getElementById("post_title").innerHTML=o[n].post_title,document.getElementById("post_body").innerHTML=o[n].post_body),"Query UI Component"==o[n].state||"Query Visual Element"==o[n].state?(console.log("set textarea"),document.getElementById("textarea").disabled=!1):document.getElementById("textarea").disabled=!1}},new Promise(((n,o)=>{setTimeout((()=>{t.send(encodeURIComponent(JSON.stringify({data:e,time:"11112"})))}),50)}))}window.send2webui=function(e){console.log("get a command from the plugin");let t=ke.a.getState("chat"),n=t.value.message_list;for(let o=0;o<e.messages.length;o++)n.push({message:e.messages[o],sentTime:"just now",sender:"DesignTutor",image:!1});return e.change_color_flag&&n.push({payload:{src:e.new_gui_url,alt:"Suggested change",width:"200px"},image:!0,sentTime:"just now",sender:"DesignTutor"}),setTimeout((()=>{t.setValue({message_list:n})}),50),JSON.stringify({status:"good",data:"no data"})},window.updateUI=function(e){document.getElementById("random_change_p").innerHTML=e.success;let t="",n=0;e.colors.forEach((o=>{t+=n.toString()+". ("+o.toString()+")["+(100*e.proportion[n]).toFixed(1)+"%]   ",n+=1})),document.getElementById("detected_color").innerHTML=t;let o="Type i distance: "+e.color_harmony[0][0].toFixed(2)+", angle: "+e.color_harmony[1][0].toString()+"<br />Type V distance: "+e.color_harmony[0][1].toFixed(2)+", angle: "+e.color_harmony[1][1].toString()+"<br />Type L distance: "+e.color_harmony[0][2].toFixed(2)+", angle: "+e.color_harmony[1][2].toString()+"<br />Type L_inverse distance: "+e.color_harmony[0][3].toFixed(2)+", angle: "+e.color_harmony[1][3].toString()+"<br />Type I distance: "+e.color_harmony[0][4].toFixed(2)+", angle: "+e.color_harmony[1][4].toString()+"<br />Type T distance: "+e.color_harmony[0][5].toFixed(2)+", angle: "+e.color_harmony[1][5].toString()+"<br />Type X distance: "+e.color_harmony[0][6].toFixed(2)+", angle: "+e.color_harmony[1][6].toString()+"<br />Type Y distance: "+e.color_harmony[0][7].toFixed(2)+", angle: "+e.color_harmony[1][7].toString();document.getElementById("harmony_distance").innerHTML=o};var Ve=function(e){const[t,n,o]=Object(ke.b)("chat"),[i,r,l]=Object(ke.b)("uiImage");var a=t.message_list[t.message_list.length-1],c=i.imgs;async function d(e,t){await Ke(e),console.log(t.message_list),await Je(e),"tutor"==t.message_list[t.message_list.length-1].sender&&(""==t.message_list[t.message_list.length-1].query?u(e.message,t):u(t.message_list[t.message_list.length-1].query,t))}function u(e,t){var n=new EventSource("http://113.45.221.230:5000/chatgpt?question="+e),o="";n.onmessage=function(e){console.log(e);const s=e.data||"";"[DONE]"==s?(o=o.replaceAll("<br>","\n"),t.message_list[t.message_list.length-1].message=Ge.render(o).replaceAll("<p>","").replaceAll("</p>","").replaceAll("<li>\n","<li>").replaceAll("</li>\n","</li>").replaceAll("<h3>","").replaceAll("</h3>",""),Ke(t.message_list[t.message_list.length-1],!0),n.close()):(""!=s&&":"!=s?o+=s:o=o+s+"\n",t.message_list[t.message_list.length-1].message+=s,Ke(t.message_list[t.message_list.length-1],!0))}}const[g,m]=s.a.useState(!1);return Object(h.jsxs)("div",{style:{width:"50%",margin:"auto"},children:[Object(h.jsxs)("div",{id:"designtutor",style:{float:"left",position:"absolute",height:"96%",width:"50%",padding:"5px",borderStyle:"solid",borderColor:"#92a8d1"},children:[Object(h.jsx)("div",{style:{position:"relative",height:"94%"},id:"chat_container",children:Object(h.jsx)(p,{children:Object(h.jsx)(Ie,{id:"main_container",children:t.message_list.map(((e,n)=>Object(h.jsxs)("div",{children:[e.isImage?Object(h.jsx)(_e,{type:"image",model:e}):Object(h.jsx)(_e,{model:e}),a.message==e.message?Object(h.jsx)("div",{className:"button_container",children:a.options.map(((e,n)=>"I need a hint."==e||"Cool, but how?"==e||"No, I'll try again."==e||"I don't know."==e||"Next Question!"==e||"Got it. Let's go!"==e||"Yes, answer please."==e||"Why?"==e||"Wait, I got it right!"==e||"Wait, it's not necessarily right!"==e||"I want to explore an UI element."==e||"I want to explore a design element."==e||"Need Hints"==e||"Move Forward"==e||"sexual orientation"==e?Object(h.jsx)("button",{className:"other_response_button",onClick:()=>{let t={message:e,tutor_message:a.tutor_message,correct_answer:a.correct_answer,user_id:a.user_id,imgs:a.imgs,post_id:a.post_id,explanation:a.explanation,cloze_test:a.cloze_test,multiple_choices:a.multiple_choices,mention_ui_elements:a.mention_ui_elements,wiki:a.wiki,isImage:!1,state:a.state,sender:"user",options:[],sentTime:"just now",direction:"outgoing",hint:a.hint,answer_cluster:a.answer_cluster,post_title:a.post_title,post_body:a.post_body,user_id:a.user_id,correct:a.correct,total:a.total,post_id:a.post_id,question_id:a.question_id,correct_answers:a.correct_answers,isGpt:!1};console.log(t),Ke(t),Je(t),console.log(e)},children:e}):Object(h.jsxs)("button",{className:"response_button",onClick:()=>{let n={message:e,tutor_message:a.tutor_message,correct_answer:a.correct_answer,user_id:a.user_id,imgs:a.imgs,post_id:a.post_id,explanation:a.explanation,cloze_test:a.cloze_test,multiple_choices:a.multiple_choices,mention_ui_elements:a.mention_ui_elements,wiki:a.wiki,isImage:!1,state:a.state,sender:"user",options:[],sentTime:"just now",direction:"outgoing",hint:a.hint,answer_cluster:a.answer_cluster,post_title:a.post_title,post_body:a.post_body,user_id:a.user_id,correct:a.correct,total:a.total,post_id:a.post_id,question_id:a.question_id,correct_answers:a.correct_answers,isGpt:!1,query:a.query};console.log(n),"I didn't understand the post"!=n.message?(Ke(n),Je(n)):"I didn't understand the post"==n.message&&d(n,t),console.log(e)},children:[e,Object(h.jsx)("br",{})]})))}):Object(h.jsx)("div",{className:"button_container",children:e.options.map(((e,t)=>Object(h.jsx)("button",{className:"response_button_old",disabled:!0,children:e})))})]})))})})}),Object(h.jsx)("div",{style:{height:"5%",width:"100%",marginTop:"1%"},children:Object(h.jsxs)("div",{style:{position:"relative",display:"inline",alignItems:"center"},children:[Object(h.jsx)("textarea",{style:{width:"85%",marginLeft:"5px",fontSize:"16px"},id:"textarea",placeholder:"Select a button or type your message if needed...",autoFocus:!0,rows:"2",disabled:"false",ref:e=>{e&&e.focus()},onKeyDown:async e=>{if(13==e.keyCode&&e.shiftKey)e.preventDefault(),document.getElementById("textarea").value+="\n";else if(13==e.keyCode){e.preventDefault();let n={message:document.getElementById("textarea").value,tutor_message:a.tutor_message,correct_answer:a.correct_answer,user_id:a.user_id,imgs:a.imgs,post_id:a.post_id,cloze_test:a.cloze_test,multiple_choices:a.multiple_choices,mention_ui_elements:a.mention_ui_elements,wiki:a.wiki,isImage:!1,state:a.state,sender:"user",options:[],sentTime:"just now",direction:"outgoing",hint:a.hint,answer_cluster:a.answer_cluster,post_title:a.post_title,post_body:a.post_body,user_id:a.user_id,correct:a.correct,total:a.total,post_id:a.post_id,question_id:a.question_id,explanation:a.explanation,correct_answers:a.correct_answers,query:a.query};if("ready to be asked"!=n.state&&"Scenario-specific creativity Quiz"!=n.state&&"Scenario-specific creativity Quiz-A1 received"!=n.state&&"Scenario-specific creativity Quiz-Answers received"!=n)d(n,t);else if("Scenario-specific creativity Quiz-Answers received"==n.state){t.message_list[t.message_list.length-1].message;d(n,t)}else Ke(n),Je(n);document.getElementById("textarea").value=""}}}),Object(h.jsx)("button",{className:"submitButton",onClick:async()=>{let e={message:document.getElementById("textarea").value,tutor_message:a.tutor_message,correct_answer:a.correct_answer,user_id:a.user_id,imgs:a.imgs,post_id:a.post_id,explanation:a.explanation,cloze_test:a.cloze_test,multiple_choices:a.multiple_choices,mention_ui_elements:a.mention_ui_elements,wiki:a.wiki,isImage:!1,state:a.state,sender:"user",options:[],sentTime:"just now",direction:"outgoing",hint:a.hint,answer_cluster:a.answer_cluster,post_title:a.post_title,post_body:a.post_body,user_id:a.user_id,correct:a.correct,total:a.total,post_id:a.post_id,question_id:a.question_id,correct_answers:a.correct_answers};if("ready to be asked"!=e.state&&"Scenario-specific creativity Quiz"!=e.state&&"Scenario-specific creativity Quiz-A1 received"!=e.state&&"Scenario-specific creativity Quiz-Answers received"!=e)d(e,t);else if("Scenario-specific creativity Quiz-Answers received"==e.state){t.message_list[t.message_list.length-1].message;d(e,t)}else Ke(e),Je(e);document.getElementById("textarea").value=""},children:" Send"})]})})]}),Object(h.jsx)("div",{style:{float:"middle",position:"relative",margin:"auto",height:"96%",width:"67%",padding:"5px"},children:Object(h.jsx)("div",{className:"example_button",children:Object(h.jsx)(ze.a,{visible:g,onClose:()=>{m(!1)},images:c})})})]})};var $e=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,97)).then((t=>{let{getCLS:n,getFID:o,getFCP:s,getLCP:i,getTTFB:r}=t;n(e),o(e),s(e),i(e),r(e)}))};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(Ve,{})}),document.getElementById("root")),$e()}},[[96,1,2]]]);
//# sourceMappingURL=main.912ae3c4.chunk.js.map